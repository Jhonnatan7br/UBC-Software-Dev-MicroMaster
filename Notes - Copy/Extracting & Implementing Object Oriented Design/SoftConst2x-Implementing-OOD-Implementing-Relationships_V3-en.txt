
Now let's look at how we get these relationships between objects going.
So we know how to look at a relationship between two objects
and figure out what field should house that relationship.
But we haven't really looked at the kind of back and forth that might be needed,
especially in a bi-directional relationship.
So now let's look more directly at that.
So we have this little system where we have
a course that has lots of students and a student that has lots of courses.
And we have a course with one instructor,
and an instructor with just one course.
And notice that there are no arrows here.
So the course knows about the instructor,
and the instructor also knows back about the course.
All right so now let's look at the other relationships.
So we have student with lots of courses, and a course with lots of students.
And we have our field set up to capture that relationship.
So we have our list of courses here and a list of students over here.
And we know that to get a student--
to get a course into a student's list, then we have an add course method.
And we know that if we need to add a student to a course,
then we have an add student method.
We also can predict, based on what we just
did, that our add course is going to say courses dot add,
but it's also going to call the add student on the course.
And symmetrically, we know that the add student
is going to add the student to the students list,
but it's also going to call add course to the student.
However, just like before, we don't want this
to be sort of infinitely cascading.
So we need to add a guard.
And the guard is going to look a tiny bit different this time,
because we're looking to see if something is already in a list.
We're not just checking the value of the single field.
So our guard instead is going to be if not courses dot
contains C. And over here our guard is going
to be if not students dot contains S. So if the course isn't already
in this course list, then go through the process.
And if the student isn't already in the student list,
then go through this process.
So what you need to remember, of course, is to override hash code
and equals, because otherwise this will not work properly.